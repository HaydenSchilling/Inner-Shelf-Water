% Calibration of Fl read from screen on cruise versus Chl a.

%% Underway data 
% Fl = [39 37 13 54 63 93 104 18 27 30 33 19 24 33 18 26 28 33 56 62 40 72 78];
% 
% Chl = [1.3590425
% 1.21585
% 0.5718425
% 1.5171025
% 1.926405
% 1.9881475
% 2.1498575
% 0.822945
% 1.06137
% 1.564785
% 1.0204725
% 1.3818275
% 0.58839125
% 1.128423333
% 0.7805025
% 0.5479125
% 0.30752375
% 0.2520275
% 0.991435
% 1.4254225
% 0.38643
% 1.25026125
% 1.60385];

% CTD Data
Chl = [1.1796725
    0.8578775
    0.51298
    0.5505
    0.4280475
    0.891985
    1.273043333
    1.670508333
    0.51120875
    1.001765
    0.866155
    0.7128275
    0.70814875
    0.06619125
    2.1826175
    2.1050925
    1.8943175
    1.2405825
    0.88925375
    1.034285
    0.87250875
    0.9854775
    1.0142125
    1.2324425
    0.57284625
    0.67676
    0.841388333
    3.39752];


Fl = [57.74
54.74
53.66
54.95
55.57
57.4
58.37
62.83
56.38
57.69
56.86
55.64
56.69
59.59
58.88
61.9
62.38
62.75
56.59
57.06
56.82
55.85
55.99
60.61
54.96
56.41
56
62.36];


mdl = fitlm(Chl,Fl);

plot(mdl)

return


[p,s] = polyfit(Chl,Fl',1);

hh = plot(Chl,Fl,'+k',0:0.1:3,p(1)*[0:0.1:3]+p(2),'-k');
set(gca,'FontSize',14);
title('Chl:Fl calibration curve');
xlabel('Laboratory Measured Chl a');
ylabel('In Situ Observed Fl.');
lh = legend(hh,['Samples'],...
        ['Fl = ',num2str(p(1)),'*[Chl a] + ',num2str(p(2))],'Location','NorthWest')
